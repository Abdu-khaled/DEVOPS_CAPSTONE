apiVersion: v1
kind: ConfigMap
metadata:
  name: jenkins-nodejs-pod-template
  namespace: jenkins
  labels:
    app.kubernetes.io/component: jenkins-controller
    app.kubernetes.io/instance: jenkins
    app.kubernetes.io/name: jenkins
    jenkins-jenkins-config: "true"
data:
  nodejs-pod-template.yaml: |
    jenkins:
      clouds:
        - kubernetes:
            name: "kubernetes"
            templates:
              - name: "nodejs"
                label: "nodejs"
                nodeUsageMode: NORMAL
                containers:
                  - name: "nodejs"
                    image: "node:16-alpine"
                    command: "cat"
                    args: ""
                    ttyEnabled: true
                    workingDir: "/home/jenkins/agent"
                    resourceRequestCpu: "500m"
                    resourceRequestMemory: "512Mi"
                    resourceLimitCpu: "1000m"
                    resourceLimitMemory: "1Gi"
